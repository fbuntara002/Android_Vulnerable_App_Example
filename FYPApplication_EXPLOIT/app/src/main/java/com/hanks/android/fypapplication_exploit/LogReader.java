package com.hanks.android.fypapplication_exploit;

import android.util.Log;

import java.io.BufferedReader;
import java.io.File;
import java.io.FileReader;
import java.io.InputStreamReader;

public class LogReader {
    protected static String readLog(String greptext) {
        try {
            String command = "su -c logcat -d | grep " + greptext;
            Process proc = Runtime.getRuntime().exec(command);
            BufferedReader br = new BufferedReader(new InputStreamReader(proc.getInputStream()));
            StringBuilder logBuilder = new StringBuilder();
            String readline;
            do {
                readline = br.readLine();
                logBuilder.append(readline);
                logBuilder.append('\n');
            } while(readline != null);
            br.close();
            String log = logBuilder.toString();
            Log.i(LogReader.class.getName(),log);
            return log;

        } catch (Exception e) {
            Log.i(LogReader.class.getName(), "Operation failed, ");
            e.printStackTrace();
            return null;
        }
    }
}
